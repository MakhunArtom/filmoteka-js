function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired76b;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},t.parcelRequired76b=a),a.register("34clH",(function(t,n){e(t.exports,"openModalFooter",(function(){return a}));const o={overlay:document.querySelector(".modal-footer-overlay"),modalFooter:document.querySelector(".modal-footer"),modalBtnClose:document.querySelector(".js-modal-close")};function a(){o.overlay.classList.add("active"),o.modalFooter.classList.add("active"),document.body.classList.add("modal-is-open"),document.body.addEventListener("keydown",s),o.overlay.addEventListener("click",r),o.modalBtnClose.addEventListener("click",r)}function s(e){"Escape"===e.code&&r()}function r(){document.querySelector(".modal-footer.active").classList.remove("active"),document.querySelector(".modal-footer-overlay").classList.remove("active"),document.body.classList.remove("modal-is-open")}})),a.register("eTE0Z",(function(t,n){e(t.exports,"openModal",(function(){return c}));var o=a("gnLbn"),s=a("cBqmo"),r=a("7GRT7");let i=document.querySelector(".cross");const l=document.querySelector(".backdrop"),d=document.querySelector(".modal-container");function c(e){if(!e.target.classList.contains("filmoteka__item"))return;!function(e){const t=r.default.load("currentPage").find((t=>t.id===e)),{id:n,title:o,originalTitle:a,genres:s,popularity:i,overview:l,rating:c,voteCount:f,imgPath:v}=t,p=`\n  <div class="modal-img-container">\n  <img\n    class="modal-img"\n    src="${v}"\n    alt="${o}"\n    width="370"\n    height="470"\n  />\n</div>\n<div class="film-info">\n  <h2 class="film-name">${o}</h2>\n  <table class="modal-table">\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Vote / Votes</p></td>\n      <td>\n        <p class="modal-table__value">\n          <span class="modal-table__vote">${c}</span> /\n          <span class="modal-table__votes">${f}</span>\n        </p>\n      </td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Popularity</p></td>\n      <td><p class="modal-table__value">${i}</p></td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Original Title</p></td>\n      <td><p class="modal-table__value">${a}</p></td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Genre</p></td>\n      <td><p class="modal-table__value">${s||""}</p></td>\n    </tr>\n  </table>\n\n  <h3 class="film-about">About</h3>\n  <p class="film-description">\n    ${l}\n  </p>\n  <div class="modal-btn-wrap">\n    <button type="button" class="modal-btn js-watch" data-id="${n}">ADD TO WATCHED</button>\n    <button type="button" class="modal-btn js-queue" data-id="${n}">ADD TO QUEUE</button>\n  </div>\n</div>`;d.insertAdjacentHTML("beforeend",p),function(e){const t=document.querySelector(".js-watch"),n=document.querySelector(".js-queue");let o,a;t.addEventListener("click",u),n.addEventListener("click",m);let s=r.default.load("watched"),i=r.default.load("queued");s&&(a=!!s.find((t=>t.id==e)));i&&(o=!!i.find((t=>t.id==e)));a&&(t.classList.add("watched"),t.innerText="WATCHED");o&&(n.classList.add("queued"),n.innerText="QUEUED")}(e)}(+e.target.dataset.id),l.classList.remove("is-hidden"),document.body.style.overflow="hidden",i=document.querySelector(".cross"),i.addEventListener("click",v),l.addEventListener("click",g),window.addEventListener("keydown",p)}function u(e){const t=e.target.dataset.id,n=document.querySelector(".js-watch");if(!n.classList.contains("watched"))return(0,s.addMovieToLib)(t,"watched"),n.classList.add("watched"),n.innerText="WATCHED",void f();n.classList.remove("watched"),n.innerText="ADD TO WATCHED",(0,s.removeMovieFromLib)(t,"watched"),f()}function m(e){const t=e.target.dataset.id,n=document.querySelector(".js-queue");if(!n.classList.contains("queued"))return(0,s.addMovieToLib)(t,"queued"),n.classList.add("queued"),n.innerText="QUEUED",void f();n.classList.remove("queued"),n.innerText="ADD TO QUEUE",(0,s.removeMovieFromLib)(t,"queued"),f()}function f(){if(window.location.href.indexOf("library")>-1){const e=document.querySelector("#btnQueued").classList.contains("active-btn")?"queued":"watched";(0,o.libraryRender)(e)}}function v(){l.classList.add("is-hidden"),document.body.style.overflow="",l.removeEventListener("click",g),i.removeEventListener("click",v),window.removeEventListener("keydown",p),d.innerHTML='<button type="button" class="cross">+</button>'}function p(e){"Escape"===e.code&&v()}function g(e){e.target.classList.contains("backdrop")&&v()}})),a.register("gnLbn",(function(t,n){e(t.exports,"libraryRender",(function(){return s}));var o=a("aLbjC");function s(e,t){const n=o.default.load(t);if(n){let t=n.map((e=>{const{id:t,title:n,year:o,genres:a,rating:s,imgPath:r}=e;let i=`<div class="filmoteka__item" data-id="${t}">\n        <a class="filmoteka__item-link" href="./">\n            <div class="filmoteka__item-wrapper">\n                <img class="filmoteka-img" src="${r}" alt="" width="">\n                <div class="overlay-text">\n                    <h2 class="subtitle">${n}</h2>\n                    <p class="discription">`;return a&&(i+=`<span class="description__genre">${a}</span>`),o&&(i+=`<span class="description__year">${o}</span>`),i+=`<span class="rating">${s}</span></p>\n                </div>\n            </div>\n        </a>\n        </div>`,i})).join("");e.insertAdjacentHTML("beforeend",t)}else e.insertAdjacentHTML("beforeend",'<div><p2 class="empty_text">It seems that there is no films here!</p2></div>')}})),a.register("aLbjC",(function(t,n){e(t.exports,"default",(function(){return o}));var o={save:(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(t){console.log(`Error during saving ${e} to local strage; `,t.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(t){console.log(`Error during getting ${e} from localStorage: `,t.message)}},del:e=>{try{localStorage.removeItem(e)}catch(t){console.log(`Error during deleting ${e}! from localStorage: `,t.message)}}}})),a.register("cBqmo",(function(t,n){e(t.exports,"removeMovieFromLib",(function(){return s})),e(t.exports,"addMovieToLib",(function(){return r}));var o=a("7GRT7");function s(e,t){let n=o.default.load(t).filter((t=>t.id!==+e));n=n.length>0?n:null,o.default.save(t,n)}function r(e,t){let n=o.default.load(t);let a=o.default.load("currentPage").find((t=>t.id==e));n?n.push(a):n=[a],o.default.save(t,n)}})),a.register("7GRT7",(function(t,n){e(t.exports,"default",(function(){return o}));var o={save:(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(t){console.log(`Error during saving ${e} to local strage; `,t.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(t){console.log(`Error during getting ${e} from localStorage: `,t.message)}},del:e=>{try{localStorage.removeItem(e)}catch(t){console.log(`Error during deleting ${e}! from localStorage: `,t.message)}}}})),a.register("jWOqs",(function(t,n){function o(){var e=document.querySelector(".back_to_top");window.addEventListener("scroll",(function(){var t=window.pageYOffset,n=document.documentElement.clientHeight;t>n&&e.classList.add("back_to_top-show"),t<n&&e.classList.remove("back_to_top-show")})),e.addEventListener("click",(function e(){window.pageYOffset>0&&(window.scroll({top:0,behavior:"smooth"}),setTimeout(e,1e3))}))}e(t.exports,"default",(function(){return o}))})),a.register("5SzY7",(function(t,n){e(t.exports,"default",(function(){return o}));class o{spinOn(){const e=document.getElementById("spinner");e.classList.contains("done")&&e.classList.remove("done")}spinOff(){setTimeout((function(){const e=document.getElementById("spinner");e.classList.contains("done")||e.classList.add("done")}),500)}}}));
//# sourceMappingURL=library.4eba85e0.js.map
