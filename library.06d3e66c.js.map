{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aCCAC,EAAAD,EAAA,SDEO,MAEDE,EAAO,CACTC,cAAeC,SAASC,cAAc,2BAQ1CC,iBACIC,gBAAkB,EAAAR,EAAAS,kBAZA,oCAalBP,EAAAQ,QAAUC,KAAK,UAAUH,WACzBN,EAAAQ,QAAUC,KAAK,SAAUH,U,CAJ7BI,GCNA,SAAuBC,EAAaC,GAQlC,MAAMC,EAAiCb,EAAAQ,QAAUM,KAAKF,GAMtD,GAAKC,EAYA,CAEH,IAAIE,EAAkBF,EAA+BG,KACnDC,IAEE,MAAMC,GACJA,EAAEC,MACFA,EAAKC,KACLA,EAAIC,OACJA,EAAMC,OACNA,EAAMC,QACNA,GACEN,EAEJ,IAAIO,EAAa,yCAAyCN,+JAGhBK,6GAEPJ,sDAanC,YAXiBM,IAAXJ,IACJG,GAAc,oCAAoCH,iBAErCI,IAATL,IACJI,GAAc,mCAAmCJ,YAEnDI,GAAc,wBAAwBF,yFAK/BE,CAAU,IAElBE,KAAK,IAMRf,EAAYgB,mBAAmB,YAAaZ,E,MAhD5CJ,EAAYgB,mBACV,YACA,+E,CDLN,CAAc1B,EAAKC,cAAc","sources":["src/js/library.js","src/js/libraryRender.js"],"sourcesContent":["import { getPopularMovies } from \"./getPopularMovies\";\nimport localStrg from \"./localStrg\";\nimport { libraryRender } from \"./libraryRender\";\nexport const APIKEY = \"565e4989d784811de7dff7d665000157\";\nexport const APIURL=\"https://api.themoviedb.org/\";\nconst refs = {\n    mainContainer: document.querySelector(\".filmoteka__container\")\n}\n\n/* for testing purpouses getting film collection and save it as\nit is library variable */\n\n\ndummyLibraryMovies();\nasync function dummyLibraryMovies(){\n    testQuery = await getPopularMovies(APIKEY);\n    localStrg.save(\"watched\",testQuery);\n    localStrg.save(\"queued\", testQuery);\n}\n//console.log(\"I'm before library render\")\n\n/*reating gallery with films from \"watched\" library*/\nlibraryRender(refs.mainContainer,\"watched\");","//importing library for working with local storage\nimport localStrg from './localStrg';\n\n/*function definition for gallery rendering\nwith two parameters: 1) document element where gallery has to be created\n2) library (local storage variable) from which this gallery should be created*/\n\nfunction libraryRender(htmlElement, userLibrary) {\n\n  \n  //console.log(htmlElement);\n  \n  \n  /* getting films collection from localStorage */\n\n  const filmCollectionFromLocalStorage = localStrg.load(userLibrary);\n  \n  //console.log(\"read from localstorage\"+filmCollectionFromLocalStorage);\n  \n  /* Checking if there is collection variable in local storage */\n\n  if (!filmCollectionFromLocalStorage) {\n\n    /*if not: adding title with text \"It seems that there is no films here!\"*/\n\n    htmlElement.insertAdjacentHTML(\n      'beforeend',\n      '<div><p2 class=\"empty_text\">It seems that there is no films here!</p2></div>'\n    );\n  }\n\n  /* if collection exists, creating gallery */\n\n  else {\n    //console.log(\"local storage variable was read successfully!\");\n    let ObjectForInsert = filmCollectionFromLocalStorage.map(\n      film => {\n        //console.log(\"film: \" + film);\n        const {\n          id,\n          title,\n          year,\n          genres,\n          rating,\n          imgPath,\n        } = film;\n\n        let itemString = `<div class=\"filmoteka__item\" data-id=\"${id}\">\n        <a class=\"filmoteka__item-link\" href=\"./\">\n            <div class=\"filmoteka__item-wrapper\">\n                <img class=\"filmoteka-img\" src=\"${imgPath}\" alt=\"\" width=\"\">\n                <div class=\"overlay-text\">\n                    <h2 class=\"subtitle\">${title}</h2>\n                    <p class=\"discription\">`;\n        if (!(genres === undefined)) {\n          itemString += `<span class=\"description__genre\">${genres}</span>`;\n        }\n        if (!(year === undefined)) {\n          itemString += `<span class=\"description__year\">${year}</span>`;\n        }\n        itemString += `<span class=\"rating\">${rating}</span></p>\n                </div>\n            </div>\n        </a>\n        </div>`;\n        return itemString;\n      })\n      .join('');\n      \n      //console.log( \"this is object for insert: \"+ObjectForInsert+ \"In here\");\n      //console.log(\"I've done with string gathering\");\n      \n\n    htmlElement.insertAdjacentHTML('beforeend', ObjectForInsert);\n  }\n}\nexport { libraryRender };\n"],"names":["$b5dhH","parcelRequire","$7zXLT","$1cafa503bc57b7a0$var$refs","mainContainer","document","querySelector","async","testQuery","getPopularMovies","default","save","$1cafa503bc57b7a0$var$dummyLibraryMovies","htmlElement","userLibrary","filmCollectionFromLocalStorage","load","ObjectForInsert","map","film","id","title","year","genres","rating","imgPath","itemString","undefined","join","insertAdjacentHTML"],"version":3,"file":"library.06d3e66c.js.map"}