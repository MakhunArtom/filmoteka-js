!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired76b;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequired76b=a),a.register("iE7OH",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("cJBkb",(function(t,n){e(t.exports,"openModalFooter",(function(){return r}));var o={overlay:document.querySelector(".modal-footer-overlay"),modalFooter:document.querySelector(".modal-footer"),modalBtnClose:document.querySelector(".js-modal-close")};function r(){o.overlay.classList.add("active"),o.modalFooter.classList.add("active"),document.body.classList.add("modal-is-open"),document.body.addEventListener("keydown",a),o.overlay.addEventListener("click",i),o.modalBtnClose.addEventListener("click",i)}function a(e){"Escape"===e.code&&i()}function i(){document.querySelector(".modal-footer.active").classList.remove("active"),document.querySelector(".modal-footer-overlay").classList.remove("active"),document.body.classList.remove("modal-is-open")}})),a.register("jGe89",(function(t,n){e(t.exports,"openModal",(function(){return u}));var o=a("8HZsX"),r=a("7M2tn"),i=a("gQxnC"),c=a("3Tmrv"),s=document.querySelector(".cross"),l=document.querySelector(".backdrop"),d=document.querySelector(".modal-container");function u(e){if(e.target.classList.contains("filmoteka__item")){var t,n,o,r,a,u,v,y,h,_,L,w,E=+e.target.dataset.id;t=E,n=i.default.load("currentPage").find((function(e){return e.id===t})),o=n.id,r=n.title,a=n.originalTitle,u=n.genres,v=n.popularity,y=n.overview,h=n.rating,_=n.voteCount,L=n.imgPath,w='\n  <div class="modal-img-container">\n  <img\n    class="modal-img"\n    src="'.concat(L||c,'"\n    alt="').concat(r,'"\n    width="370"\n    height="470"\n  />\n</div>\n<div class="film-info">\n  <h2 class="film-name">').concat(r,'</h2>\n  <table class="modal-table">\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Vote / Votes</p></td>\n      <td>\n        <p class="modal-table__value">\n          <span class="modal-table__vote">').concat(h,'</span> /\n          <span class="modal-table__votes">').concat(_,'</span>\n        </p>\n      </td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Popularity</p></td>\n      <td><p class="modal-table__value">').concat(v,'</p></td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Original Title</p></td>\n      <td><p class="modal-table__value">').concat(a,'</p></td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Genre</p></td>\n      <td><p class="modal-table__value">').concat(u||"",'</p></td>\n    </tr>\n  </table>\n\n  <h3 class="film-about">About</h3>\n  <p class="film-description">\n    ').concat(y,'\n  </p>\n  <div class="modal-btn-wrap">\n    <button type="button" class="modal-btn js-watch" data-id="').concat(o,'">ADD TO WATCHED</button>\n    <button type="button" class="modal-btn js-queue" data-id="').concat(o,'">ADD TO QUEUE</button>\n  </div>\n</div>'),d.insertAdjacentHTML("beforeend",w),function(e){var t,n,o=document.querySelector(".js-watch"),r=document.querySelector(".js-queue");o.addEventListener("click",f),r.addEventListener("click",m);var a=i.default.load("watched"),c=i.default.load("queued");a&&(n=!!a.find((function(t){return t.id==e}))),c&&(t=!!c.find((function(t){return t.id==e}))),n&&(o.classList.add("watched"),o.innerText="WATCHED"),t&&(r.classList.add("queued"),r.innerText="QUEUED")}(t),l.classList.remove("is-hidden"),document.body.style.overflow="hidden",(s=document.querySelector(".cross")).addEventListener("click",p),l.addEventListener("click",b),window.addEventListener("keydown",g)}}function f(e){var t=e.target.dataset.id,n=document.querySelector(".js-watch");if(!n.classList.contains("watched"))return(0,r.addMovieToLib)(t,"watched"),n.classList.add("watched"),n.innerText="WATCHED",void v();n.classList.remove("watched"),n.innerText="ADD TO WATCHED",(0,r.removeMovieFromLib)(t,"watched"),v()}function m(e){var t=e.target.dataset.id,n=document.querySelector(".js-queue");if(!n.classList.contains("queued"))return(0,r.addMovieToLib)(t,"queued"),n.classList.add("queued"),n.innerText="QUEUED",void v();n.classList.remove("queued"),n.innerText="ADD TO QUEUE",(0,r.removeMovieFromLib)(t,"queued"),v()}function v(){if(window.location.href.indexOf("library")>-1){var e=document.querySelector("#btnQueued").classList.contains("active-btn")?"queued":"watched";(0,o.libraryRender)(e)}}function p(){l.classList.add("is-hidden"),document.body.style.overflow="",l.removeEventListener("click",b),s.removeEventListener("click",p),window.removeEventListener("keydown",g),d.innerHTML='<button type="button" class="cross">+</button>'}function g(e){"Escape"===e.code&&p()}function b(e){e.target.classList.contains("backdrop")&&p()}})),a.register("8HZsX",(function(t,n){e(t.exports,"libraryRender",(function(){return c}));var o=a("gQxnC"),r=a("gzo5i"),i=document.querySelector(".background-wrapper");function c(e){var t=document.querySelector(".filmoteka__container"),n=o.default.load(e);if(!n)return t.innerHTML='<div><p2 class="empty_text">It seems that there is no films here!</p2></div>',void i.classList.remove("no-display");(0,r.renderItems)(n),i.classList.add("no-display")}})),a.register("gQxnC",(function(t,n){e(t.exports,"default",(function(){return o}));var o={save:function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(t){console.log("Error during saving ".concat(e," to local strage; "),t.message)}},load:function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(t){console.log("Error during getting ".concat(e," from localStorage: "),t.message)}},del:function(e){try{localStorage.removeItem(e)}catch(t){console.log("Error during deleting ".concat(e,"! from localStorage: "),t.message)}}}})),a.register("gzo5i",(function(t,n){e(t.exports,"renderItems",(function(){return r}));var o=a("3Tmrv");function r(e){var t=document.querySelector(".filmoteka__container"),n=e.map((function(e){var t=e.id,n=e.title,r=e.year,a=e.genres,i=e.rating,c=e.imgPath;if(console.log(c),a)for(var s=(a.match(/\,/g)||[]).length;s>1;)s=((a=a.slice(0,a.lastIndexOf(","))+"npm ...").match(/\,/g)||[]).length;var l='\n         <div class="filmoteka__item" data-id="'.concat(t,'">\n              <div class="filmoteka__item-wrapper">\n                  <img class="filmoteka-img" src="').concat(c||o,'" alt="').concat(n,'">\n                  <div class="overlay-text">\n                      <h2 class="subtitle">').concat(n,'</h2>\n                      <p class="discription">');return a&&(l+="".concat(a," "),r&&(l+="|")),r&&(l+='<span class="filmoteka__year"> '.concat(r,"</span>")),l+=' </p>\n                      <div class="filmoteka__rating">'.concat(i,"</div>\n                  </div>\n              </div>\n      </div>")}));t.innerHTML="",t.insertAdjacentHTML("beforeend",n.join(""))}})),a.register("3Tmrv",(function(e,t){e.exports=a("aNJCr").getBundleURL("gLAPX")+a("iE7OH").resolve("cxfxj")})),a.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),r[e]=t),t}})),a.register("7M2tn",(function(t,n){e(t.exports,"removeMovieFromLib",(function(){return r})),e(t.exports,"addMovieToLib",(function(){return i}));var o=a("gQxnC");function r(e,t){var n=o.default.load(t).filter((function(t){return t.id!==+e}));n=n.length>0?n:null,o.default.save(t,n)}function i(e,t){var n=o.default.load(t),r=o.default.load("currentPage").find((function(t){return t.id==e}));n?n.push(r):n=[r],o.default.save(t,n)}})),a.register("4FHbW",(function(t,n){function o(){var e=document.querySelector(".back_to_top");window.addEventListener("scroll",(function(){var t=window.pageYOffset,n=document.documentElement.clientHeight;t>n&&e.classList.add("back_to_top-show"),t<n&&e.classList.remove("back_to_top-show")})),e.addEventListener("click",(function e(){window.pageYOffset>0&&(window.scroll({top:0,behavior:"smooth"}),setTimeout(e,1e3))}))}e(t.exports,"default",(function(){return o}))})),a.register("hBZCD",(function(n,o){e(n.exports,"default",(function(){return c}));var r=a("8MBJY"),i=a("a2hTj"),c=function(){"use strict";function e(){t(r)(this,e)}return t(i)(e,[{key:"spinOn",value:function(){var e=document.getElementById("spinner");e.classList.contains("done")&&e.classList.remove("done")}},{key:"spinOff",value:function(){setTimeout((function(){var e=document.getElementById("spinner");e.classList.contains("done")||e.classList.add("done")}),500)}}]),e}()})),a.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),a.register("a2hTj",(function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,o){t&&n(e.prototype,t);o&&n(e,o);return e}})),a("iE7OH").register(JSON.parse('{"gLAPX":"library.1ac501f1.js","cxfxj":"no-picture.bfd9a472.jpg"}'))}();
//# sourceMappingURL=library.1ac501f1.js.map
