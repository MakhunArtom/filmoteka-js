!function(){function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},r=t.parcelRequired76b;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired76b=r),r.register("iE7OH",(function(t,o){var n,r;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)a[t[o]]=e[t[o]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("cJBkb",(function(t,o){e(t.exports,"openModalFooter",(function(){return r}));const n={overlay:document.querySelector(".modal-footer-overlay"),modalFooter:document.querySelector(".modal-footer"),modalBtnClose:document.querySelector(".js-modal-close")};function r(){n.overlay.classList.add("active"),n.modalFooter.classList.add("active"),document.body.classList.add("modal-is-open"),document.body.addEventListener("keydown",a),n.overlay.addEventListener("click",c),n.modalBtnClose.addEventListener("click",c)}function a(e){"Escape"===e.code&&c()}function c(){document.querySelector(".modal-footer.active").classList.remove("active"),document.querySelector(".modal-footer-overlay").classList.remove("active"),document.body.classList.remove("modal-is-open")}})),r.register("jGe89",(function(t,o){e(t.exports,"openModal",(function(){return u}));var n=r("8HZsX"),a=r("7M2tn"),c=r("gQxnC"),s=r("3Tmrv");r("kF9YW");let l=document.querySelector(".cross");const i=document.querySelector(".backdrop"),d=document.querySelector(".modal-container");function u(e){if(!e.target.classList.contains("filmoteka__item"))return;!function(e){const t=c.default.load("currentPage").find((t=>t.id===e)),{id:o,title:n,originalTitle:r,genres:a,popularity:l,overview:i,rating:u,voteCount:v,imgPath:g}=t,p=`\n  <div class="modal-img-container">\n  <img\n    class="modal-img"\n    src="${g||s}"\n    alt="${n}"\n    width="370"\n    height="470"\n  />\n</div>\n<div class="film-info">\n  <h2 class="film-name">${n}</h2>\n  <table class="modal-table">\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Vote / Votes</p></td>\n      <td>\n        <p class="modal-table__value">\n          <span class="modal-table__vote">${u}</span> /\n          <span class="modal-table__votes">${v}</span>\n        </p>\n      </td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Popularity</p></td>\n      <td><p class="modal-table__value">${l}</p></td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Original Title</p></td>\n      <td><p class="modal-table__value">${r}</p></td>\n    </tr>\n    <tr class="modal-table__row">\n      <td><p class="modal-table__attribute">Genre</p></td>\n      <td><p class="modal-table__value">${a||""}</p></td>\n    </tr>\n  </table>\n\n  <h3 class="film-about">About</h3>\n  <p class="film-description">\n    ${i}\n  </p>\n  <div class="modal-btn-wrap">\n    <button type="button" class="modal-btn js-watch" data-id="${o}">ADD TO WATCHED</button>\n    <button type="button" class="modal-btn js-queue" data-id="${o}">ADD TO QUEUE</button>\n  </div>\n</div>`;d.insertAdjacentHTML("beforeend",p),function(e){const t=document.querySelector(".js-watch"),o=document.querySelector(".js-queue");let n,r;t.addEventListener("click",f),o.addEventListener("click",m);let a=c.default.load("watched"),s=c.default.load("queued");a&&(r=!!a.find((t=>t.id==e)));s&&(n=!!s.find((t=>t.id==e)));r&&(t.classList.add("watched"),t.innerText="WATCHED");n&&(o.classList.add("queued"),o.innerText="QUEUED")}(e)}(+e.target.dataset.id),i.classList.remove("is-hidden"),document.body.style.overflow="hidden",l=document.querySelector(".cross"),l.addEventListener("click",g),i.addEventListener("click",b),window.addEventListener("keydown",p)}function f(e){const t=e.target.dataset.id,o=document.querySelector(".js-watch");if(!o.classList.contains("watched"))return(0,a.addMovieToLib)(t,"watched"),o.classList.add("watched"),o.innerText="WATCHED",void v();o.classList.remove("watched"),o.innerText="ADD TO WATCHED",(0,a.removeMovieFromLib)(t,"watched"),v()}function m(e){const t=e.target.dataset.id,o=document.querySelector(".js-queue");if(!o.classList.contains("queued"))return(0,a.addMovieToLib)(t,"queued"),o.classList.add("queued"),o.innerText="QUEUED",void v();o.classList.remove("queued"),o.innerText="ADD TO QUEUE",(0,a.removeMovieFromLib)(t,"queued"),v()}function v(){if(window.location.href.indexOf("library")>-1){const e=document.querySelector("#btnQueued").classList.contains("active-btn")?"queued":"watched";(0,n.libraryRender)(e)}}function g(){i.classList.add("is-hidden"),document.body.style.overflow="",i.removeEventListener("click",b),l.removeEventListener("click",g),window.removeEventListener("keydown",p),d.innerHTML='<button type="button" class="cross">+</button>'}function p(e){"Escape"===e.code&&g()}function b(e){e.target.classList.contains("backdrop")&&g()}})),r.register("8HZsX",(function(t,o){e(t.exports,"libraryRender",(function(){return s}));var n=r("gQxnC"),a=r("gzo5i");const c=document.querySelector(".background-wrapper");function s(e){const t=document.querySelector(".filmoteka__container");let o=n.default.load(e);if(!o)return t.innerHTML='<div><p2 class="empty_text">It seems that there is no films here!</p2></div>',void c.classList.remove("no-display");(0,a.renderItems)(o),c.classList.add("no-display")}})),r.register("gQxnC",(function(t,o){e(t.exports,"default",(function(){return n}));var n={save:(e,t)=>{try{const o=JSON.stringify(t);localStorage.setItem(e,o)}catch(t){console.log(`Error during saving ${e} to local strage; `,t.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(t){console.log(`Error during getting ${e} from localStorage: `,t.message)}},del:e=>{try{localStorage.removeItem(e)}catch(t){console.log(`Error during deleting ${e}! from localStorage: `,t.message)}}}})),r.register("gzo5i",(function(t,o){e(t.exports,"renderItems",(function(){return c}));var n=r("3Tmrv"),a=r("lpZvY");function c(e){const t=document.querySelector(".filmoteka__container"),o=e.map((({id:e,title:t,year:o,genres:r,rating:a,imgPath:c})=>{if(r){let e=(r.match(/\,/g)||[]).length;for(;e>1;)e=((r=r.slice(0,r.lastIndexOf(","))+"npm ...").match(/\,/g)||[]).length}let s=`\n         <div class="filmoteka__item" data-id="${e}">\n              <div class="filmoteka__item-wrapper">\n                  <img class="filmoteka-img" src="${c||n}" alt="${t}">\n                  <div class="overlay-text">\n                      <h2 class="subtitle">${t}</h2>\n                      <p class="discription">`;return r&&(s+=`${r} `,o&&(s+="|")),o&&(s+=`<span class="filmoteka__year"> ${o}</span>`),s+=` </p>\n                      <div class="filmoteka__rating">${a}</div>\n                  </div>\n              </div>\n      </div>`,s}));t.innerHTML="",t.insertAdjacentHTML("beforeend",o.join("")),(0,a.default)()}})),r.register("3Tmrv",(function(e,t){e.exports=r("aNJCr").getBundleURL("gLAPX")+r("iE7OH").resolve("cxfxj")})),r.register("aNJCr",(function(t,o){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var r={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),r[e]=t),t}})),r.register("lpZvY",(function(t,o){function n(){const e=document.querySelectorAll(".pagination__page"),t=document.querySelectorAll(".pagination__ellipsis"),o=document.querySelectorAll(".subtitle");try{"section-black"===localStorage.getItem("section")?(document.querySelector("footer").style.backgroundColor="#751D1D",document.querySelector(".footer__text").style.color="#f7f7f7",document.querySelector(".modal-footer-open").style.color="#f7f7f7",document.querySelector(".modal-container").style.backgroundColor="#a34545",e.forEach((e=>e.style.color="#ffffff")),t.forEach((e=>e.style.color="#ffffff")),o.forEach((e=>e.style.color="#ffffff"))):(document.querySelector("footer").style.backgroundColor="#f7f7f7",document.querySelector(".footer__text").style.color="#545454",document.querySelector(".modal-footer-open").style.color="#545454",document.querySelector(".modal-container").style.backgroundColor="#ffffff",e.forEach((e=>e.style.color="#000000")),t.forEach((e=>e.style.color="#000000")),o.forEach((e=>e.style.color="#000000")))}catch(e){}}e(t.exports,"default",(function(){return n}))})),r.register("7M2tn",(function(t,o){e(t.exports,"removeMovieFromLib",(function(){return a})),e(t.exports,"addMovieToLib",(function(){return c}));var n=r("gQxnC");function a(e,t){let o=n.default.load(t).filter((t=>t.id!==+e));o=o.length>0?o:null,n.default.save(t,o)}function c(e,t){let o=n.default.load(t);let r=n.default.load("currentPage").find((t=>t.id==e));o?o.push(r):o=[r],n.default.save(t,o)}})),r.register("kF9YW",(function(e,t){r("bjqjL")})),r.register("bjqjL",(function(t,o){e(t.exports,"text",(function(){return n}));const n={en:{".js-queue":"ADD TO QUEUE",".js-watch":"ADD TO WATCHED",".queued":"QUEUE",".watched":"WATCHED",".zsu":"SUPPORT UKRAINE",".home":"HOME",".library":"MY LIBRARY"},ua:{".js-queue":"ДОДАТИ В ЧЕРГУ",".js-watch":"ДОДАТИ В ПЕРЕГЛЯНУТІ",".queued":"В ЧЕРЗІ",".watched":"ПЕРЕГЛЯНУТІ",".zsu":"ДОПОМОГА ЗСУ",".home":"ГОЛОВНА",".library":"МОЯ БІБЛІОТЕКА"}}})),r.register("4FHbW",(function(t,o){function n(){var e=document.querySelector(".back_to_top");window.addEventListener("scroll",(function(){var t=window.pageYOffset,o=document.documentElement.clientHeight;t>o&&e.classList.add("back_to_top-show"),t<o&&e.classList.remove("back_to_top-show")})),e.addEventListener("click",(function(){window.pageYOffset>0&&window.scroll({top:0,behavior:"smooth"})}))}e(t.exports,"default",(function(){return n}))})),r.register("hBZCD",(function(t,o){e(t.exports,"default",(function(){return n}));class n{spinOn(){const e=document.getElementById("spinner");e.classList.contains("done")&&e.classList.remove("done")}spinOff(){setTimeout((function(){const e=document.getElementById("spinner");e.classList.contains("done")||e.classList.add("done")}),500)}}})),r.register("jS5ak",(function(t,o){e(t.exports,"default",(function(){return a}));var n=r("lpZvY");function a(){const e=document.querySelector(".switch-btn"),t=document.querySelector("body");console.log(t),localStorage.getItem("btn")&&(e.classList.add(localStorage.getItem("btn")),t.classList.add(localStorage.getItem("section"))),e.addEventListener("click",(o=>{o.preventDefault(),localStorage.getItem("btn")?(localStorage.removeItem("section"),localStorage.removeItem("btn"),e.classList.remove("switch-on"),t.classList.remove("section-black")):c(),(0,n.default)()}))}const c=()=>{const e=document.querySelector("body");document.querySelectorAll(".switch-btn").forEach((e=>{e.classList.toggle("switch-on"),localStorage.setItem("btn","switch-on")})),e.classList.toggle("section-black"),localStorage.setItem("section","section-black")}})),r("iE7OH").register(JSON.parse('{"gLAPX":"library.a7bc096d.js","cxfxj":"no-picture.bfd9a472.jpg"}'))}();
//# sourceMappingURL=library.a7bc096d.js.map
