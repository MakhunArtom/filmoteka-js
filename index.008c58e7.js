var e={save:(e,t)=>{try{const a=JSON.stringify(t);localStorage.setItem(e,a)}catch(t){console.error(`Error during saving ${e} to local strage; `,t.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(t){console.error(`Error during getting ${e} from localStorage: `,t.message)}},del:e=>{try{localStorage.removeItem(e)}catch(t){console.error(`Error during deleting ${e}! from localStorage: `,t.message)}}};async function t(e){return await(await fetch(n+`3/trending/movie/day?api_key=${e}`)).json()}async function a(t){const a=await(await fetch(n+`3/genre/movie/list?api_key=${t}&language=en-US`)).json();return e.save("genresList",a.genres),console.log("Genres were updated, and saved to localStorage for future"),a.genres}async function r(t){e.load("genresList")||await a(o);const r=e.load("genresList");let n=new Array;return t.forEach((e=>{try{n.push(r.find((t=>t.id===e)).name)}catch(t){console.log(`${e} wasn't found in Local Storage, updating ganresList`),r=await(0,a)(o),n.push(r.find((t=>t.id===e)).name)}})),n.join()}const o="565e4989d784811de7dff7d665000157",n="https://api.themoviedb.org/";!async function(e){const a=await t(e);a.total_pages,a.results.map((async({title:e,original_title:t,name:a,original_name:o,overview:i,poster_path:s,genre_ids:l,popularity:g,release_date:c,first_air_date:d,vote_average:u,vote_count:f})=>{const m={title:e||a,originalTitle:t||o,year:(c||d).slice(0,4),genres:await r(l),popularity:g,overview:i,rating:u,voteCount:f,imgPath:n+"t/p/orginal"+s};return console.log(m),m}))}(o);
//# sourceMappingURL=index.008c58e7.js.map
